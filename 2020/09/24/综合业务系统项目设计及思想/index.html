<!DOCTYPE HTML>
<html lang="zh-CN">

<head><meta name="generator" content="Hexo 3.8.0">
    <!--Setting-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="apple-mobile-web-app-capable" content="hki">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    <meta name="browsermode" content="application">
    <meta name="screen-orientation" content="portrait">
    <meta name="theme-version" content="1.2.3">
    <meta name="root" content="/">
    <link rel="dns-prefetch" href="http://yoursite.com">
    <!--SEO-->

<meta name="keywords" content>


<meta name="description" content="综合业务系统项目框架设计综合业务系统项目简介整个项目分为OTC管理系统和流程系统两大块
流程项目负责OTC的会员，可转债，挂牌等申请流程走向
otc项目管理涉及业务逻辑
重要程度从高到低

流程...">


<meta name="robots" content="all">
<meta name="google" content="all">
<meta name="googlebot" content="all">
<meta name="verify" content="all">
    <!--Title-->

<title>
    
    hki
</title>

<link rel="alternate" href="/atom.xml" title="hki" type="application/atom+xml">


<link rel="icon" href="/favicon.ico">

    

<link rel="stylesheet" href="/css/bootstrap.min.css?rev=3.3.7">
<link rel="stylesheet" href="/css/font-awesome.min.css?rev=4.7.0">
<link rel="stylesheet" href="/css/style.css?rev=@@hash">
    
<div class="hide">
    <script type="text/javascript">
    var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
    document.write(unescape("%3Cspan class='cnzz_stat_icon_1263868967 hide' %3E%3Cscript%20src%3D%22https%3A%2F%2Fs95.cnzz.com%2Fz_stat.php%3Fweb_id%3D1272564536%22%3E%3C%2Fscript%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s19.cnzz.com/z_stat.php%3Fid%3D1263868967%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E"));
    </script>
</div>




    

</head></html>
<!--[if lte IE 8]>
<style>
    html{ font-size: 1em }
</style>
<![endif]-->
<!--[if lte IE 9]>
<div style="ie">你使用的浏览器版本过低，为了你更好的阅读体验，请更新浏览器的版本或者使用其他现代浏览器，比如Chrome、Firefox、Safari等。</div>
<![endif]-->
<body>
    <header class="main-header" style="background-image:url(
    http://snippet.shenliyang.com/img/banner.jpg)">
    <div class="main-header-box">
        <a class="header-avatar" href="/" title="zhang">
    <img src="/img/th.jpeg" alt="logo头像" class="img-responsive center-block">
    </a>
    <div class="brandings" style="color: aliceblue;">
        <h2>简单</h2>
    </div>
    </div>
</header>
    <nav class="main-navigation">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="navbar-header"><span class="nav-toggle-button collapsed pull-right" data-toggle="collapse" data-target="#main-menu" id="mnav">
                        <span class="sr-only"></span>
                        <i class="fa fa-bars"></i>
                    </span>
                    <a class="navbar-brand" href="http://yoursite.com">
                        hki</a>
                </div>
                <div class="collapse navbar-collapse" id="main-menu">
                    <ul class="menu">
                        
                        <li role="presentation" class="text-center">
                            <a href="/"><i class="fa "></i>
                                首页</a>
                        </li>
                        
                        <li role="presentation" class="text-center">
                            <a href="/categories/java/"><i class="fa "></i>
                                java</a>
                        </li>
                        
                        <li role="presentation" class="text-center">
                            <a href="/categories/linux/"><i class="fa "></i>
                                linux</a>
                        </li>
                        
                        <li role="presentation" class="text-center">
                            <a href="/categories/DB/"><i class="fa "></i>
                                DB</a>
                        </li>
                        
                        <li role="presentation" class="text-center">
                            <a href="/categories/工具/"><i class="fa "></i>
                                编程工具</a>
                        </li>
                        
                        <li role="presentation" class="text-center">
                            <a href="/categories/other/"><i class="fa "></i>
                                其他</a>
                        </li>
                        
                        <li role="presentation" class="text-center">
                            <a href="/archives/"><i class="fa "></i>
                                时间轴</a>
                        </li>
                        
                    </ul>
                </div>
            </div>
        </div>
    </div>
</nav>
    <section class="content-wrap">
        <div class="container">
            <div class="row">
                <main class="col-md-8 main-content m-post">
                    <p id="process"></p>
<article class="post">
    <div class="post-head">
        <h1 id>
            
            NO Title!
            
        </h1>
        <div class="post-meta">
    
    <span class="categories-meta fa-wrap">
        <i class="fa fa-folder-open-o"></i>
        
    </span>
    
    
    <span class="fa-wrap">
        <i class="fa fa-tags"></i>
        <span class="tags-meta">
            
        </span>
    </span>
    
    
    
    <span class="fa-wrap">
        <i class="fa fa-clock-o"></i>
        <span class="date-meta">
            2020/09/24</span>
    </span>
    
    
</div>
        
        
    </div>
    
    <div class="post-body post-content">
        <h1 id="综合业务系统项目框架设计"><a href="#综合业务系统项目框架设计" class="headerlink" title="综合业务系统项目框架设计"></a>综合业务系统项目框架设计</h1><h2 id="综合业务系统项目简介"><a href="#综合业务系统项目简介" class="headerlink" title="综合业务系统项目简介"></a>综合业务系统项目简介</h2><p>整个项目分为<strong>OTC管理系统</strong>和<strong>流程系统</strong>两大块</p>
<p>流程项目负责OTC的会员，可转债，挂牌等申请流程走向</p>
<p>otc项目管理涉及业务逻辑</p>
<p>重要程度从高到低</p>
<ol>
<li><strong>流程系统</strong></li>
<li><strong>可转债模块</strong></li>
<li><strong>挂牌模块</strong></li>
<li><strong>会员申请模块</strong></li>
<li><strong>角色权限模块</strong></li>
<li>专家模块</li>
<li>上会模块</li>
<li>短信模块</li>
<li>pageoffice模块</li>
<li>文件生成模块</li>
<li>打包下载</li>
<li>订单模块</li>
<li>文件模块</li>
<li>通知模块</li>
<li>审核记录模块</li>
</ol>
<h2 id="整体框架设计"><a href="#整体框架设计" class="headerlink" title="整体框架设计"></a>整体框架设计</h2><h2 id="技术选型"><a href="#技术选型" class="headerlink" title="技术选型"></a>技术选型</h2><p>项目的技术栈，包括语言、框架和中间件等；</p>
<p>核心框架：Spring framework、SpringBoot</p>
<p>持久层框架：MyBatis Plus</p>
<p>日志管理：SLF4J、LogBack</p>
<p>分布式缓存：Redis</p>
<p>模块化管理：Maven</p>
<p>数据库连接池：Alibaba Druid</p>
<p>任务调度：quartz</p>
<p>客户端验证：JQuery Validation</p>
<p>配置中心: nacos</p>
<p>流程组件: flowable</p>
<p>其他插件: Pageoffice ,POI, Itext, lombok</p>
<h2 id="接口设计"><a href="#接口设计" class="headerlink" title="接口设计"></a>接口设计</h2><h2 id="数据库设计"><a href="#数据库设计" class="headerlink" title="数据库设计"></a>数据库设计</h2><h3 id="mysql设计"><a href="#mysql设计" class="headerlink" title="mysql设计"></a>mysql设计</h3><h3 id="redis设计"><a href="#redis设计" class="headerlink" title="redis设计"></a>redis设计</h3><h3 id="技术选型："><a href="#技术选型：" class="headerlink" title="技术选型："></a>技术选型：</h3><p>项目的技术栈，包括语言、框架和中间件等；</p>
<p>分布式缓存：Redis</p>
<p>模块化管理：Maven</p>
<p>数据库连接池：Alibaba Druid</p>
<p>核心框架：Spring framework、SpringBoot</p>
<p>持久层框架：MyBatis Plus</p>
<p>任务调度：quartz</p>
<p>日志管理：SLF4J 1.7、LogBack</p>
<p>客户端验证：JQuery Validation</p>
<p>配置中心: nacos</p>
<p>流程组件: flowable</p>
<p>接口查看: swagger-ui</p>
<p>其他插件: Pageoffice,POI,Itext</p>
<h3 id="本地构建："><a href="#本地构建：" class="headerlink" title="本地构建："></a>本地构建：</h3><p>本地开发需要启动的步骤 ；</p>
<ul>
<li>配置数据库 默认需要vpn连接60的服务器<br>— 配置dev.properties下本地自定义配置及pageOffice配置</li>
<li>配置office 模板文件</li>
<li>配置本地的nacos配置文件</li>
<li>打mavenjar包为 dev</li>
</ul>
<p>打包生产环境需要的命令</p>
<p>mvn clean install -Dmaven.test.skip=true  -Pprod</p>
<h3 id="环境信息："><a href="#环境信息：" class="headerlink" title="环境信息："></a>环境信息：</h3><p>各个环境的访问方式，数据库连接等；</p>
<p>各种环境的配置请看<br>application.properties</p>
<p>本地开发如果需要连接服务器的数据库需要登陆vpn</p>
<p>—– nacos 版本—–<br>上线nacos后需要登录nacos服务器来更改配置<br>nacos服务器在 bootstrap.properties 处配置</p>
<h3 id="模块讲解："><a href="#模块讲解：" class="headerlink" title="模块讲解："></a>模块讲解：</h3><p>核心的领域概念</p>
<p>用户管理：用户分为三种 承销商，OTC管理员，专家，是该系统的基础模块。</p>
<p>角色管理：承销商分三种角色 基础承销商 高级承销商 可转债承销商，OTC管理员分两种 后台管理员 审批管理员</p>
<p>权限管理：每个承销商可以设置其下属协同人员，公司风控，公司领导，OTC管理员后台可以设置审批人的部门及角色</p>
<p>部门管理：配置系统组织机构，可随意调整上下级。</p>
<p>日志管理：系统正常操作日志记录和查询；系统异常信息日志记录和查询。</p>
<p>连接池监视：监视当期系统数据库连接池状态，可进行分析SQL。</p>
<p>会员领域</p>
<ul>
<li>权限管理这一块的问题<br>之前有两套方案</li>
</ul>
<ol>
<li><p>用户表sys_user关联岗位表job</p>
</li>
<li><p>用户关联角色表 sys_user_role<br>现在采用的是这一套方案</p>
</li>
</ol>
<p>sys_user</p>
<p>Sys_user_role<br>   角色名称 role_id<br>   流程id flow_id</p>
<p>sys_role_permission<br>   role_id 角色id<br>   permission_id 权限id</p>
<p>sys_permission<br>   获取具体权限</p>
<p>可转债会员领域</p>
<p>可转债领域</p>
<p>挂牌领域</p>
<p>专家领域</p>
<h3 id="数据模型"><a href="#数据模型" class="headerlink" title="数据模型:"></a>数据模型:</h3><p>数据库中的表目前分为几大类</p>
<ul>
<li>以IPD 开头的 可转债模块</li>
</ul>
<ul>
<li>以 EIM 开头的 挂牌模块</li>
</ul>
<ul>
<li>以sys 开头的 系统模块</li>
</ul>
<p>剩下的就是其他模块<br>其他模块又分为两大类</p>
<ul>
<li>专家模块</li>
</ul>
<ul>
<li>会员模块</li>
</ul>
<h1 id="项目结构："><a href="#项目结构：" class="headerlink" title="项目结构："></a>项目结构：</h1><p>项目结构分为两大部分</p>
<ol>
<li>流程部分<br> 流程在zwkj.zhxt.flow包中</li>
</ol>
<ol start="2">
<li>业务部分<br>beans  枚举常量存放位置<br>common 框架基本配置, AOP, 异常存放点<br>config 项目配置包<br>controller 项目接口层<br>filter 入口拦截器, token校验, 幂等性校验, 接口防刷等等<br>flow 流程包<br>model 项目所有实体类<br>mvc 项目接口数据<br>utils  工具类<br>zhxtApplication.java  入口类 </li>
</ol>
<h1 id="技术架构："><a href="#技术架构：" class="headerlink" title="技术架构："></a>技术架构：</h1><p>见 参考图</p>
<h1 id="部署架构："><a href="#部署架构：" class="headerlink" title="部署架构："></a>部署架构：</h1><p>部署架构图；</p>
<h1 id="外部依赖："><a href="#外部依赖：" class="headerlink" title="外部依赖："></a>外部依赖：</h1><p>项目运行时所依赖的外部集成方，</p>
<p>可转债模块  依赖  会员模块 和 专家模块</p>
<p>挂牌模块 依赖 会员模块 和 专家模块</p>
<h1 id="FAQ："><a href="#FAQ：" class="headerlink" title="FAQ："></a>FAQ：</h1><p>开发过程中常见问题的解答。</p>
<ul>
<li><p>流程系统查看当前单子的审批人</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> NAME_,ASSIGNEE_ <span class="keyword">FROM</span> ACT_RU_TASK <span class="keyword">WHERE</span> PROC_INST_ID_ <span class="keyword">IN</span> (<span class="keyword">SELECT</span> PROC_INST_ID_ <span class="keyword">FROM</span> <span class="string">`flowable`</span>.<span class="string">`ACT_RU_EXECUTION`</span> <span class="keyword">WHERE</span> <span class="string">`BUSINESS_KEY_`</span> <span class="keyword">LIKE</span> <span class="string">'%34045882%'</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>统计专家会议</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> EIM_base_info.enterprise_name , sys_attend.invite_name,sys_attend.meeting_time,sys_attend.meeting_local,sys_attend.batch <span class="keyword">from</span> EIM_base_info, sys_attend <span class="keyword">where</span> EIM_base_info.id = sys_attend.table_id  <span class="keyword">AND</span> sys_attend.status <span class="keyword">not</span>  <span class="keyword">in</span> (<span class="string">'3'</span>,<span class="string">'2'</span>) <span class="keyword">AND</span> sys_attend.deleted = <span class="number">1</span> <span class="keyword">and</span> batch <span class="keyword">IS</span> <span class="keyword">NOT</span> <span class="literal">NULL</span>   <span class="keyword">and</span> meeting_time <span class="keyword">is</span>  <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">and</span>  meeting_time &gt;= <span class="string">'2020-03-01 00:00'</span> <span class="keyword">GROUP</span> <span class="keyword">BY</span> EIM_base_info.enterprise_name</span><br></pre></td></tr></table></figure>
</li>
<li><p>当前流程任务不存在的问题<br>确定提交日期 -&gt; 查看日志记录 -&gt; 查看提交单子的接口</p>
</li>
<li><p>启动异常 .properties 报错<br>目前不存在这个问题 ,如果出现 是因为maven多环境配置的问题<br>解决方案: 一般情况下重新选择环境打包就可以 </p>
</li>
<li><p>下载生成的文件 或者打包文件出现问题<br>一般是模板有问题或者模板未更新<br>解决方案: 找到相对于的模板去更新下<br>如果更新后模板还是有问题需要去ExcelManage 199 行找出确定哪个字段有问题 在对应解决</p>
</li>
<li><p>CheckException: 系统错误<br>这个是flow流程系统报错后综合系统自定义的错误提示 当出现这个问题后需要查看所调用的 流程系统 接口以及数据是否正常 是否出现为空或者重复的问题<br>解决方案: 通用错误一般是流程发生报错</p>
</li>
<li><p>获取excel 数据报错, 已经赋值为空 !<br>这是一个error告警 是因为你的数据不存在 我们默认赋值成空 但也有一些例外 只需注意就好</p>
</li>
</ul>
<ul>
<li>任务审批或者提交单据之后发现单子还在本人这里<br>这个问题比较复杂 需要确定很多地方</li>
</ul>
<ol>
<li>查看单子状态是否有变更<br>如果单子状态改变 -&gt; 查看流程是否走到下一个角色那里 <pre><code>-&gt; 走到下一个角色 说明流程没问题 ,单子状态有问题 
解决方案: 查询但是为什么没有更改 找对应的接口
-&gt; 没有走到下一个角色  说明流程没有被调用 
解决方案: 查看日志 是否报错 查看接口参数返回是否正常
</code></pre></li>
</ol>
<p>如果单子状态没有改变 -&gt; 说明流程报错或者在调用流程之前报错事物回滚导致状态没有变化<br>                  -&gt; 如果流程报错查看日志 及审批人是否是登录角色</p>
<ul>
<li>提交多次失败<br>有两种情况</li>
</ul>
<ol>
<li><p>提交流程成功了但是后续逻辑判断出错导致异常 这个问题有一个明显的状况就是下个角色可以看到多条单据任务<br> -&gt; 当出现多条单据的时候 查看是否是状态没有改变导致的可以反复提交同一条单据<br> 解决方案: 更改单子状态</p>
</li>
<li><p>在调用流程之前或者调用流程出错导致的提价失败<br>-&gt; 查看业务逻辑错误<br>解决方案: 查询是否是因为更改流程导致</p>
</li>
</ol>
<ul>
<li><p>提交报错后流程无法流转的问题<br>这个bug是因为当前登录的提交人的手机号和流程当中的审批人手机号不是一个手机号 导致在提交的时候无法查询到当前登录人的任务<br>解决方案: 将当前登录人的手机号设置为流程的ASSIGNEE_ 审批人<br>​<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> NAME_,ASSIGNEE_ <span class="keyword">FROM</span> ACT_RU_TASK <span class="keyword">WHERE</span> PROC_INST_ID_ <span class="keyword">IN</span> (<span class="keyword">SELECT</span> PROC_INST_ID_ <span class="keyword">FROM</span> <span class="string">`flowable`</span>.<span class="string">`ACT_RU_EXECUTION`</span> <span class="keyword">WHERE</span> <span class="string">`BUSINESS_KEY_`</span> <span class="keyword">LIKE</span> <span class="string">'%34045882%'</span>);</span><br></pre></td></tr></table></figure></p>
</li>
<li><p>完成任务后任务已经流转但是审批人名下还有一个单子(重复单子)<br>这个bug是犹豫多次提交引起的 查询提交是否是多次提交 或者是一次提交ID重复的问题<br>解决方案 调用swagger上的reject接口 taskid参数传<br>​<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> ID_ <span class="keyword">FROM</span> ACT_RU_TASK <span class="keyword">WHERE</span> PROC_INST_ID_ <span class="keyword">IN</span> (<span class="keyword">SELECT</span> PROC_INST_ID_ <span class="keyword">FROM</span> <span class="string">`flowable`</span>.<span class="string">`ACT_RU_EXECUTION`</span> <span class="keyword">WHERE</span> <span class="string">`BUSINESS_KEY_`</span> <span class="keyword">LIKE</span> <span class="string">'%34045882%'</span>);</span><br><span class="line">​</span><br></pre></td></tr></table></figure></p>
</li>
<li><p>其他问题直接看日志错误代码及代码行号定位</p>
</li>
</ul>
<ul>
<li>常规单子状态和流程任务不对等的情况下的问题排查及解决方案</li>
</ul>
<p>我们用一个生产环境出现问题的单子来举例说明</p>
<p>问题:<br>单据状态本来应该是17,但是数据库显示当前单据的状态是16.8,<br>16.8的角色下没有查询到任务.</p>
<p>解决思路:<br>查询该单据数据库的update_time<br>SQL update time<br>2020-06-09 13:24:32</p>
<p>生产环境日志查询发现在<br>117870 2020-06-09 12:24:29.556<br>状态 修改过 变为 17</p>
<p>由以上两个时间节点可以得出 在12:24:29–13:24:32 期间肯定出现了问题,并且将状态变更为16.8</p>
<p>所以我们查询将状态变更为16.8的日志记录 关键字 “status”:”16.8”<br>121296 2020-06-09 13:24:32<br>发现状态变为status16.8</p>
<p>第一次16.8为双审的第一个人的记录”状态”没问题<br>接下来往后翻日志发现<br>121720行 2020-06-09 13:28:01.544<br>认领了任务</p>
<p>然后在日志记录的时候发现该角色短时间内操作了两次审批记录</p>
<p>第一次在 121255 行<br>第二次在 121244 行</p>
<p>这是请求参数 将状态由16.8变更为17<br>2020-06-09 13:24:32.359 |-INFO  [qtp593103894-12503] [1968791269_381917] com.zwkj.zhxt.common.ControllerAOP [74] -| 5. 请求参数 : {“admissionId”:21551591,”evalute”:”       已生成挂牌协议”,”ids”:[],”key”:”1”,”name”:”张志波”,”questionList”:[],”sort”:500,”status”:”17”,”sysUser”:”zhangzhibo”,”taskId”:”cb4c0394-a947-11ea-a656-0050568f1897”,       “verifyRole”:”user0”,”words”:”生成挂牌协议”}</p>
<p>然后去流程业务日志中查询发现请求只收到一次<br>flow<br>37773</p>
<p>了解综合系统处理流程发现问题出在<br>判断redis缓存中是否有该单据的审核记录 如果有一个人审核则状态变为17 “并且删除当前缓存”  如果没有则16.8</p>
<p>因为第二个人操作了两次 所以<br>第一次发现有人审批 审核状态变为17 “并且删除当前缓存” 任务完成<br>第二次发现缓存没有人审批过然后状态变为16.8 </p>
<p>所以会出现 单子是16.8 任务在17这个角色下.</p>
<ul>
<li>查看专家替换选不出来的问题</li>
</ul>
<p>主要sql</p>
<p>替换 table_id , organization_category,organization_categoryvice 这三个内容可以查看替换时专家的筛选人员<br>​<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">   *</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">   professor a</span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">   <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> (</span><br><span class="line">      <span class="keyword">SELECT</span></span><br><span class="line">         *</span><br><span class="line">      <span class="keyword">FROM</span></span><br><span class="line">         sys_attend b</span><br><span class="line">      <span class="keyword">WHERE</span></span><br><span class="line">         a.id = b.professor_id</span><br><span class="line">         <span class="keyword">AND</span> b. <span class="string">`type`</span> = <span class="number">1</span></span><br><span class="line">         <span class="keyword">AND</span> b.table_id = <span class="number">35932873</span></span><br><span class="line">         <span class="keyword">AND</span> b.deleted = <span class="number">1</span>)</span><br><span class="line">      <span class="keyword">AND</span> a.polling_status <span class="keyword">IN</span>(<span class="number">1</span>, <span class="number">0</span>)</span><br><span class="line">      <span class="keyword">AND</span> a.status = <span class="number">1</span></span><br><span class="line">      <span class="keyword">AND</span>(a.Member_category = <span class="number">1</span></span><br><span class="line">         <span class="keyword">OR</span> a.Member_category = <span class="number">3</span>)</span><br><span class="line">      <span class="keyword">and</span>(organization_category <span class="keyword">in</span>(<span class="number">4</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>)</span><br><span class="line">         <span class="keyword">OR</span> organization_categoryvice <span class="keyword">in</span>(<span class="number">4</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>)</span><br><span class="line">         <span class="keyword">AND</span>(organization_category <span class="keyword">NOT</span> <span class="keyword">in</span>(<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">AND</span> organization_categoryvice <span class="keyword">NOT</span> <span class="keyword">in</span>(<span class="number">1</span>)))</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">         *</span><br><span class="line">      <span class="keyword">FROM</span></span><br><span class="line">         sys_attend b</span><br><span class="line">      <span class="keyword">WHERE</span></span><br><span class="line"><span class="comment">--           a.id = b.professor_id</span></span><br><span class="line">          b. <span class="string">`type`</span> = <span class="number">1</span></span><br><span class="line">         <span class="keyword">AND</span> b.table_id = <span class="number">35932873</span></span><br><span class="line">         <span class="keyword">AND</span> b.deleted = <span class="number">1</span></span><br></pre></td></tr></table></figure></p>
<h2 id="下面是项目启动后需要用到的各种文件及地址"><a href="#下面是项目启动后需要用到的各种文件及地址" class="headerlink" title="下面是项目启动后需要用到的各种文件及地址"></a>下面是项目启动后需要用到的各种文件及地址</h2><h3 id="测试环境地址"><a href="#测试环境地址" class="headerlink" title="测试环境地址"></a>测试环境地址</h3><p>测试流程查看(失效): <a href="http://192.168.0.60:8085/zhxtflow/app/processDiagram?processId=" target="_blank" rel="noopener">http://192.168.0.60:8085/zhxtflow/app/processDiagram?processId=</a></p>
<p>测试swagger(失效): <a href="http://192.168.0.60:8085/zhxtflow/swagger-ui.html" target="_blank" rel="noopener">http://192.168.0.60:8085/zhxtflow/swagger-ui.html</a></p>
<p>测试流程图编辑(失效): <a href="http://192.168.0.60:8085/zhxtflow/modeler/index.html" target="_blank" rel="noopener">http://192.168.0.60:8085/zhxtflow/modeler/index.html</a></p>
<p>测试环境zhxt-swagger: <a href="http://192.168.0.60:8086/zhxtotc/swagger-ui.html#/" target="_blank" rel="noopener">http://192.168.0.60:8086/zhxtotc/swagger-ui.html#/</a></p>
<h3 id="预生产地址"><a href="#预生产地址" class="headerlink" title="预生产地址"></a>预生产地址</h3><p>预生产环境后端zhxt:  <a href="http://58.144.147.65:81/zhxtotc" target="_blank" rel="noopener">http://58.144.147.65:81/zhxtotc</a></p>
<p>预生产流程图 <a href="http://10.110.14.66:8085/zhxtflow/modeler/index.html#/processes" target="_blank" rel="noopener">http://10.110.14.66:8085/zhxtflow/modeler/index.html#/processes</a></p>
<p>// 废弃  生产流程图: <a href="http://10.110.14.71:8085/zhxtflow/swagger-ui.html" target="_blank" rel="noopener">http://10.110.14.71:8085/zhxtflow/swagger-ui.html</a></p>
<h3 id="生产环境地址-临时地址-后续取消"><a href="#生产环境地址-临时地址-后续取消" class="headerlink" title="生产环境地址(临时地址 后续取消)"></a>生产环境地址(临时地址 后续取消)</h3><p>生产环境流程图编辑: <a href="http://10.110.14.73:8085/zhxtflow/modeler/index.html#/processes" target="_blank" rel="noopener">http://10.110.14.73:8085/zhxtflow/modeler/index.html#/processes</a></p>
<p>生产环境流程图查看: <a href="http://10.110.14.73:8085/zhxtflow/app/processDiagram?processId=" target="_blank" rel="noopener">http://10.110.14.73:8085/zhxtflow/app/processDiagram?processId=</a></p>
<p>生产环境流程swagger: <a href="http://10.110.14.73:8085/zhxtflow/swagger-ui.html" target="_blank" rel="noopener">http://10.110.14.73:8085/zhxtflow/swagger-ui.html</a> </p>
<h3 id="附带其他文档说明"><a href="#附带其他文档说明" class="headerlink" title="附带其他文档说明"></a>附带其他文档说明</h3><p>查看所有流程的状态及角色以及附带后端接口的文档</p>
<p>流程状态梳理表V2.0.xlsx</p>
<p>所有角色权限配置文档</p>
<p>股转中心角色权限对应表.xlsx</p>
<p>综合业务需求说明文档</p>
<p>重庆股转中心综合业务系统产品需求说明书v0.6 8-13.docx</p>
<p>综合业务系统数据字典结构表</p>
<p>综合系统-数据字典V1.27.docx</p>
<p>截止一期项目压力测试报告</p>
<p>压力测试报告.docx</p>

    </div>
    
    <div class="post-footer">
        <div>
            
            转载声明：
            商业转载请联系作者获得授权,非商业转载请注明出处 © <a href target="_blank">Snippet</a>
            
            
        </div>
        <div>
            
        </div>
    </div>
</article>
<div class="article-nav prev-next-wrap clearfix">
    
    
    <a href="/2020/06/19/Redis/" class="next-post btn btn-default" title="浅析redis">
        <span class="hidden-lg">下一篇</span>
        <span class="hidden-xs">
            浅析redis</span><i class="fa fa-angle-right fa-fw"></i>
    </a>
    
</div>

<div id="comments">
    

<div id="vcomments" class="valine"></div>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="/assets/valine.min.js"></script>
<script>
new Valine({
    av: AV,
    el: '#vcomments',
    appId: 'PEjwKmwhUtAX3kifPRp4uDhk-gzGzoHsz',
    appKey: 'NdRFvGCRyjrv3qdq6lhdcD6U',
    placeholder: '可以尝试回复一下',
    notify: false,
    verify: true,
    avatar: 'mm',
    meta: 'nick,mail'.split(','),
    pageSize: '10',
    path: window.location.pathname,
    lang: 'zh-CN'.toLowerCase()
})
</script>


</div>

                </main>
                
                    <aside id="article-toc" role="navigation" class="col-md-4">
    <div class="widget">
        <h3 class="title">
            文章目录
        </h3>
        
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#综合业务系统项目框架设计"><span class="toc-text">综合业务系统项目框架设计</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#综合业务系统项目简介"><span class="toc-text">综合业务系统项目简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#整体框架设计"><span class="toc-text">整体框架设计</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#技术选型"><span class="toc-text">技术选型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#接口设计"><span class="toc-text">接口设计</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数据库设计"><span class="toc-text">数据库设计</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#mysql设计"><span class="toc-text">mysql设计</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#redis设计"><span class="toc-text">redis设计</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#技术选型："><span class="toc-text">技术选型：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#本地构建："><span class="toc-text">本地构建：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#环境信息："><span class="toc-text">环境信息：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#模块讲解："><span class="toc-text">模块讲解：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#数据模型"><span class="toc-text">数据模型:</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#项目结构："><span class="toc-text">项目结构：</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#技术架构："><span class="toc-text">技术架构：</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#部署架构："><span class="toc-text">部署架构：</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#外部依赖："><span class="toc-text">外部依赖：</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#FAQ："><span class="toc-text">FAQ：</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#下面是项目启动后需要用到的各种文件及地址"><span class="toc-text">下面是项目启动后需要用到的各种文件及地址</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#测试环境地址"><span class="toc-text">测试环境地址</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#预生产地址"><span class="toc-text">预生产地址</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#生产环境地址-临时地址-后续取消"><span class="toc-text">生产环境地址(临时地址 后续取消)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#附带其他文档说明"><span class="toc-text">附带其他文档说明</span></a></li></ol></li></ol></li></ol>
        
    </div>
</aside>
                
            </div>
        </div>
    </section>
    <footer class="main-footer">
    <div class="container">
        <div class="row">
        </div>
    </div>
</footer>
<a id="back-to-top" class="icon-btn hide">
    <i class="fa fa-chevron-up"></i>
</a>
    <div class="copyright">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="busuanzi">
    
</div>
            </div>
            <div class="col-sm-12">
                <span>Copyright &copy;
                    2017
                    
                </span> |
                <span>
                    Powered by <a href="//hexo.io" class="copyright-links" target="_blank" rel="nofollow">Hexo</a>
                </span> |
                <span>
                    Theme by <a href="//github.com/shenliyang/hexo-theme-snippet.git" class="copyright-links" target="_blank" rel="nofollow">Snippet</a>
                </span>
            </div>
        </div>
    </div>
</div>



<script src="/js/app.js?rev=@@hash"></script>
</body>
</html>